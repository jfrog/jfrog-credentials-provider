{
  "name": "jfrog-credential-provider",
  "matchImages": [
    "*.jfrog.io"
  ],
  // Set defaultCacheDuration lower than secret_ttl_seconds (2h/7200s < 7800s)
  // This ensures credentials remain valid for the entire cache duration
  "defaultCacheDuration": "2h",
  "apiVersion": "credentialprovider.kubelet.k8s.io/v1",
  "env": [   
    {
      "name": "artifactory_url",
      "value": "eldada.jfrog.io"
    },
    //cognito_oidc or assume_role
    {
      "name": "aws_auth_method",
      "value": "assume_role"      
    },
    {
      "name": "aws_role_name",
      "value": "node-group-1-eks-node-group-20241208081825853100000001"      
    },
    //relevant only for oidc flowprovider.go
    {
      "name": "secret_name",
      "value": "JFrog-OIDC-integration-secret"      
    },
    //relevant only for assume role flow
    // Set secret_ttl_seconds higher than defaultCacheDuration (7800s > 2h/7200s)
    // This prevents tokens from expiring while still being used from cache
    {
      "name": "secret_ttl_seconds",
      "value": "7800"      
    },
    //relevant only for oidc flow
    {
      "name": "jfrog_oidc_provider_name",
      "value": "carmit-aws-oidc"      
    },
    //relevant only for oidc flow
    {
      "name": "user_pool_name",
      "value": "eu-north-1_DCG9MSz0I"      
    },
    //relevant only for oidc flow
    {
      "name": "user_pool_resource_scope",
      "value": "read"      
    },
    //relevant only for oidc flow
    {
      "name": "resource_server_name",
      "value": "resource-server-for-jfrog-oidc"      
    }

    // To disable automatic updates of the provider binary, default is false
    {
      "name": "disable_provider_autoupdate",
      "value": "true"
    }
  ]
}